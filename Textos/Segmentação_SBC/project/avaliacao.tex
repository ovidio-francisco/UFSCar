
\section{Avaliação Experimental}
\label{sec:avaliacao}



%A fim de avaliar a proposta deste trabalho, conduziu-se os experimentos descritos a seguir. A Subseção~\ref{subsec:bases}, descreve como os 


%%%%%%%%%%
% As 2 principais dificuldades na avaliação
%%%%%%%%%%
De acordo com \cite{Pevzner2002} há duas principais dificuldades na avaliação de segmentadores automáticos. A primeira é conseguir uma referência, já que juízes humanos costumam não concordar entre si, sobre onde os limites estão e outras abordagens podem não se aplicar ao contexto. A segunda é que tipos diferentes de erros devem ter pesos diferentes de acordo com a aplicação. Há casos onde certa imprecisão é tolerável e outras, como a segmentação de notícias, onde a precisão é mais importante.


%%%%%%%%%%
% Definição do que é um bom algoritmo de segmentação
%%%%%%%%%%
Para fins de avaliação desse trabalho, um bom método de segmentação é aquele cujo resultado melhor se aproxima de uma segmentação manual, sem a obrigatoriedade de estar perfeitamente alinhado com tal. Ou seja, visto o contexto das atas de reunião, e a subjetividade da tarefa, não é necessário que os limites entre os segmentos (real e hipótese) sejam idênticos, mas que se assemelhem em localização e quantidade.



%
% Saber quais são as melhores configurações (para a segmentação de atas)
% Saber qual a influênica do preprocessamento 
%%%
Para obter um melhor resultado com as técnicas de segmentação textual apresentadas nesse artigo, faz-se necessário conhecer quais valores otimizam a configuração de um algoritmo.
% 
Deseja-se também saber qual a influência do preprocessamento no desempenho dos algoritmos.
% 
Assim, nesse trabalho, refere-se como configuração os valores que foram atribuídos aos parâmetros de um algoritmo e à presença ou ausência da etapa de preprocessamento.




%%%%%%%%%%
% Tratamento das atas
%%%%%%%%%%


% As próximas subseções mostram o conjunto de atas e a segmentação usada como referência em seguida são apresentadas as métricas de avaliação utilizadas neste trabalho e os testes realizados para avaliar os métodos.



\subsection{Bases}
	\label{subsec:bases}
%%%%%%%%%% % Como foram obtidas (software e especialistas) %%%%%%%%%%
A fim de obter um conjunto de documentos segmentados que possam servir como referência na avaliação, foram coletadas as atas de reuniões do Conselhos de Pós Graduação, Conselho de Cursos e Conselho de Departamento de da UFSCar-Sorocaba. Os documentos foram oferecidos à profissionais que participam de reuniões desse departamento para segmentá-las. Para isso, utilizou-se um \textit{software} que permitiu aos voluntários visualizar um documento, e indicar livremente as divisões entre segmentos com um assunto relativamente independente. Ao final, o software coletou os dados da segmentação de doze das os quais serviram como referência para a avaliação dos algoritmos.

Os arquivos gerados foram tratados para que os segmentos sempre terminem em uma sentença reconhecida pelo algoritmo, uma vez que as sentenças são a unidade mínima de informação nesse trabalho.
  

\subsection{Configuração experimental}
	\label{subsec:configuracaoexperimental}

%%%%%%%%%%
% Parâmetros
%%%%%%%%%%
As implementações dos algoritmos permitem ao usuário a configuração de seus parâmetros. 
%
O \textit{TextTiling} permite ajustarmos dois parâmetros, sendo o primeiro o tamanho da janela para o qual atribuiu-se os valores 20, 40 e 60. Para o segundo parâmetro, o passo, atribuiu-se os valores 3, 6, 9 e 12. Gerando ao final 20 configurações.
%

O \textit{C99} permite ajustarmos três parâmetros, sendo, o primeiro a quantidade segmentos desejados, uma vez que, não se conhece o número ideal de segmentos, calcula-se uma proporção dos candidatos a limite. Para isso atribuiu-se os valores {0,2; 0,4; 0,6; 0,8; 1,0}. O segundo parâmetro, o tamanho do quadro utilizado para gerar a matriz de ranking, atribuiu-se os valores 9 e 11, sendo 11 o valor padrão da apresentado pelo autor. Permite ainda, definirmos se as sentenças serão representados por vetores contendo a frequência ou o peso de cada termo, onde ambas as representações foram utilizadas. Considerando todos os parâmetros, foram gerados 20 configurações para o algoritmo C99.

% Neste artigo nos referimos como configuração a determinados valores que foram atribuidos aos parâmetros de um algoritmo





% ==============================================================================
% ==  Critérios de Avaliação                                                  ==
% ==============================================================================
\subsection{Critérios de avaliação}

%%%%%%%%%%%%%%%
% Melhorar ou Resscrever
% Testes estatísticos para encontrar os melhores parâmetros 
%%%%%%%%%%%%%%% 
% A fim de encontrar a melhor configuração que divida uma ata em segmentos coerentes, realizou-se testes com o \textit{TextTiling} e \textit{C99} a fim de encontrar os melhores parâmetros para esses documentos.


%%%%%%%%%%%%%%%
% Medidas calculadas pela comparação com a referência 
%%%%%%%%%%%%%%% 
Os algoritmos foram comparados com a segmentação fornecida pelos especialistas e calculou-se as medidas tradicionais acurácia, precisão, revocação, $F^1$. Além dessas, computou-se também as medidas mais aplicadas à segmentação textual, P$_k$ e \textit{WindowDiff}.



%%%%%%%%%%
% Teste de Friedman e CD
% 1ª Etapa
%%%%%%%%%%
%
% Teste de Friedman em múltilas atas  
%%%
% O teste de Friedman foi utilizado para avaliar o desempenho dos algoritmos considerando a base de dados de atas. 
%
% Testa o rankings médios e testa hip. nula 
%%%
% O teste comparou os \textit{rankings} médios dos algoritmos em cada ata e testou a hipótese nula de que todos os algoritmos são equivalentes. 
%
% Se a hip. nula for rejeitada, executa Nemenyi  
%%%
% Quando a hipótese nula foi rejeitada, executou-se o pós-teste de Nemenyi a fim de saber se há diferença significativa entre os algoritmos. O teste considera significativamente diferente dois algoritmos cujos \textit{rankings} médios diferem em um valor mínimo, chamado de diferença crítica~\cite{Demsar2006}.
%
% O digrama CD mostra se há diferença significativa e ordenas os melhores.
%%%
% Os resultados desse teste podem ser visualizados graficamente pelo diagrama de diferença crítica, o qual apresenta os melhores algoritmos ordenados no eixo $X$.
% TODO: colocar uma imagem do digramca CD 


%
% As Rodadas 
%%%





% ==============================================================================
% ==  Resultados                                                              ==
% ==============================================================================
\subsection{Resultados}
	\label{subsec:resultados}

%%%%%%%%%%%%%%%
% Testes sem o préprocessamento 
%%%%%%%%%%%%%%%
Inicialmente testou-se os algoritmos configurando seus parâmetros conforme mostrado na Subseção~\ref{subsec:configuracaoexperimental} sem aplicar o preprocessamento, afim de conhecer quais parâmetros melhor configuram os agoritmos considerando o texto integral.
% 


%%%%%%%%%%%%%%%
% Dados obtidos com o TextTiling 
%%%%%%%%%%%%%%%
Na Tabela~\ref{tab:texttilingsempreprocess} são apresentadas, para cada medida, as configurações que otimizam o \textit{TextTiling} e a média computada considerando as bases, onde \textbf{J} é o tamanho da janela e \textbf{P} é o passo.

\begin{table}[!h]
	\centering
	\begin{tabular}{|l|c|c|c|} \hline
		\textbf{Medida} & \textbf{J} & \textbf{P} & \textbf{Média}\\		\hline

		Acurácia	& 50 & 6 & 0,612 \\ \hline	
		Precisão	& 40 & 9 & 0,611 \\ \hline			
		Revocação	& 20 & 3 & 0,886 \\ \hline		
		F$^1$		& 30 & 6 & 0,605 \\ \hline	
		P$_k$		& 50 & 9 & 0,142 \\ \hline	
		\textit{WindowDiff}	& 50 & 6 & 0,387 \\ \hline	

	\end{tabular}
	\caption{Resultados obtidos com o \textit{TextTiling} sem o preprocessamento.}
	\label{tab:texttilingsempreprocess}
\end{table}



%%%%%%%%%%
% Dados obtidos com o C99
%%%%%%%%%%
Na Tabela~\ref{tab:c99sempreprocess} são apreentadas, para cada medida, as configurações que otimizam o \textit{C99} e a média computada considerando as bases, onde \textbf{S} é a proporção de segmentos em relação a quantidade de candidatos, \textbf{M} é o tamanho do quadro utilizado para criar a matriz de \textit{ranking} e \textbf{W} indica se os segmentos são representados por vetores contendo a frequência ou um peso das palavras. 

\begin{table}[!h]
	\centering

	\begin{tabular}{|l|c|c|c|c|} \hline
		\textbf{Medida} & \textbf{S} & \textbf{M} & \textbf{W} & \textbf{Média}\\	\hline

		Acurácia	& 60 & 9 & Sim & 0,588 \\ \hline
		Precisão	& 40 & 9 & Sim & 0,645 \\ \hline
		Revocação	& 80 & 9 & Sim & 0,869 \\ \hline
		F$^1$		& 80 & 9 & Sim & 0,638 \\ \hline
		P$_k$		& 20 & 9 & Sim & 0,134 \\ \hline
		\textit{WindowDiff}	& 60 & 9 & Sim & 0,411 \\ \hline
		
	\end{tabular}
	
	\caption{Resultados obtidos com \textit{C99} sem o preprocessamento.}
	\label{tab:c99sempreprocess}
\end{table}




%%%%%%%%%%%%%%%
% Testes com o Preprocessamento 
%%%%%%%%%%%%%%%
Repetiu-se os testes anteriores incluindo o preprocessando para verificar o impacto dessa etapa na segmentação das atas e conhecer quais valores melhor configuram os algoritmos considerando o texto preprocessado. 
%
Nas Tabelas~\ref{tab:texttilingcompreprocess}~e~\ref{tab:c99compreprocess} são apresentadas as configurações que otimizam os algoritmos incluindo essa etapa.




%%%%%%%%%%%%%%%
% Dados obtidos com o TextTiling 
%%%%%%%%%%%%%%%
\begin{table}[!h]
	\centering
	\begin{tabular}{|l|c|c|c|} \hline
		\textbf{Medida} & \textbf{J} & \textbf{P} & \textbf{Média}\\		\hline

		Acurácia	& 40 & 9  & 0,603 \\ \hline	
		Precisão	& 50 & 12 & 0,613 \\ \hline			
		Revocação	& 20 & 3  & 0,917 \\ \hline		
		F$^1$		& 40 & 3  & 0,648 \\ \hline	
		P$_k$			& 50 & 9  & 0,144 \\ \hline	
		\textit{WindowDiff}	& 40 & 9  & 0,396 \\ \hline		

	\end{tabular}
	\caption{Resultados obtidos com o \textit{TextTiling} com o preprocessamento.}
	\label{tab:texttilingcompreprocess}
\end{table}



%%%%%%%%%%
% Dados obtidos com o C99
%%%%%%%%%%
\begin{table}[!h]
	\centering

	\begin{tabular}{|l|c|c|c|c|} \hline
		\textbf{Medida} & \textbf{S} & \textbf{M} & \textbf{W} & \textbf{Média}\\	\hline

		Acurácia	& 60 &  9 & Sim 	& 0,609 \\ \hline
		Precisão	& 20 & 11 & False 	& 0,720 \\ \hline
		Revocação	& 80 & 11 & Sim 	& 0,897 \\ \hline
		F$^1$		& 80 & 11 & Sim 	& 0,655 \\ \hline
		P$_k$			& 20 & 11 & False 	& 0,116 \\ \hline
		\textit{WindowDiff}	& 60 &  9 & Sim 	& 0,390 \\ \hline

	\end{tabular}
	
	\caption{Resultados obtidos com \textit{C99} com o preprocessamento.}
	\label{tab:c99compreprocess}
\end{table}



% os testes deram 4 configurações para cada medida, 
% resta saber qual dessas eh melhor considerando/comparando os dois algoritmos e o preprocessamento.

Com o teste de Friedman e a análise do diagrama de diferença crítica foi possível testar os dois principais algoritmos e o impacto do preprocessamento, gerando quatro configurações para cada medida.
% 
Deseja-se encontrar entre essas, qual delas melhor otimiza determinada medida. Para isso, aplicou-se novamente os critérios de avaliação. De acordo com os testes, o algoritmo \textit{C99} obteve melhor desempenho em acurácia, precisão, $F^1$, $P_k$ e \textit{WindowDiff}, como pode ser visto na Tabela~\ref{tab:configfinal}. 



\begin{table}[!h]
	\centering

	\begin{tabular}{|l|c|c|c|c|c|} \hline
		\textbf{Medida} & \textbf{S} & \textbf{M} & \textbf{W} & \textbf{P} & \textbf{Média}\\	\hline

		Acurácia	& 60 &  9 & Sim & Sim & 0,609 \\ \hline
		Precisão	& 20 & 11 & Não & Sim & 0,720 \\ \hline
		F$^1$		& 80 & 11 & Sim & Sim & 0,655 \\ \hline
		P$_k$			& 20 & 11 & Não & Sim & 0,116 \\ \hline
		\textit{WindowDiff}	& 60 &  9 & Sim & Sim & 0,390 \\ \hline

	\end{tabular}
	
	\caption{Resultados obtidos com \textit{C99}.}
	\label{tab:configfinal}
\end{table}



O \textit{TextTiling} obteve o melhor desempenho em revocação, utilizando-se janelas de tamanho igual a $20$ e passo igual a $3$, onde registrou-se uma média de $0,917$ para essa medida.





 % e obteve-se os resultados exibidos na Tabela~\ref{tab:configfinal}

% Em seguida, aplicou-se os critérios de avaliação a fim de compará-las em econtrar a configuração (considerando uma algoritmo e seus parametros e o preprocessamento)



% Para descobrir qual a melhor configuração que otimiza, aplicou-se os critérios de avaliação 

% encontrar quatro configurações para cada medida, considerando isoladamente os algoritmos e a presença do préprocessamento. 
% 
%

% Uma vez sabendo quais configurações otimizam um algorítmo para uma medida, resta compará-las para encontrar a melhor configuração para cada medida.
% Uma vez sabendo quais valores de parâmetros melhor configuram um algoritmo para uma medida, resta saber qual dos dois algoritmos é mais eficiente segundo essa medida. Para isso aplicou-se novamente o teste de Friedman com pós-teste de Nemenyi, dessa vez, com os melhores modelos dos dois algoritmos para cada medida. O resultado segue na Tabela~\ref{tab:melhoresmodelos}








% ==============================================================










% nas colunas ...
% cada linha contem a melhor configuração para uma 








% As tabelas mostram, para cada medida, as configurações que otimizam os algoritmos e as médias obtidas considerando as bases. Na Tabela~\ref{tab:medidasC99} são apresentados os resultados do \textit{C99}. Na Tabela~\ref{tab:medidasTT} são apresentados os resultados do \textit{TextTiling}.


%
% encontrar a melhor configuração para cada medida e a influênica do préprocessamento 
%%%
% Executou-se o procedimento para ambos os algoritmos com e sem pré-processamento. 
% 1ª Rodada
	% TextTiling com todos os paramentros e SEM preprocess em todas as medidas
	% C99        com todos os paramentros e SEM preprocess em todas as medidas
	% TextTiling com todos os paramentros e COM preprocess em todas as medidas
	% C99        com todos os paramentros e COM preprocess em todas as medidas

% Dúvida: Mostrar um CD aqui?

% Uma vez sabendo quais valores de parâmetros melhor configuram um algoritmo para uma medida, resta então saber qual dos dois algoritmos é mais eficiente segundo essa medida. Para isso aplicou-se novamente o teste de Friedman com pós-teste de Nemenyi, dessa vez, com os melhores modelos dos dois algoritmos para cada medida. O resultado segue na Tabela~\ref{tab:melhoresmodelos}


% Na análise do diagrama de diferença crítica verificou-se que o algoritmo \textit{C99} apresenta melhor eficiência em todas as medidas e os valores das quatro primeiras os valores de \texttt{S}, \texttt{M} e \texttt{W} se repetiram, sugerindo uma configuração otimizada para o problema da segmentação de atas de reunião.



	





%A tabelas~\ref{tab:mediasTextTiling} mostra os dados obtidos com o \textit{TextTiling}, onde \texttt{J} é o tamanho da janela e \texttt{P} é o passo.

%\begin{table}[!h]
%	\centering
%
%	\begin{tabular}{|c|c|c|c|}
%	
%		\hline
%		Medida & \texttt{J} & \texttt{P} & \textbf{Média}\\		
%		\hline
%
%		Acuracy		& 50 & 9 	& 0.5510 \\ \hline	
%		F1			& 50 & 3 	& 0.5898 \\ \hline	
%		Precision	& 60 & 12 	& 0.5746 \\ \hline			
%		Recall		& 50 & 3 	& 0.7717 \\ \hline		
%		Pk			& 30 & 9 	& 0.1572 \\ \hline	
%		Windiff		& 50 & 9 	& 0.4489 \\ \hline		
%
%		
%	\end{tabular}
%	
%	\caption{Médias das medidas obtidas com o \textit{TextTiling}.}
%	\label{tab:mediasTextTiling}
%\end{table}



%\begin{table}[!h]
%	\centering
%	
%	\begin{tabular}{|c|c|c|c|c|}
%
%		\hline
%		Medida & Algoritmo & \texttt{S} & \texttt{M} & \texttt{W}\\		
%		\hline
%		
%	
%		Acuracy		& C99 & 40 	& 11	& Sim \\ \hline
%		Precision	& C99 & 40 	& 11	& Sim \\ \hline
%		Pk			& C99 & 40 	& 11	& Sim \\ \hline
%		Windiff		& C99 & 40 	& 11	& Sim \\ \hline
%		F1			& C99 & 60 	& 9		& Sim \\ \hline
%		Recall		& C99 & 100 & 9		& Não \\ \hline
% 	
%	
%	\end{tabular}
%
%	\caption{Melhores modelos para cada medida segundo diagramas de diferença crítica.}
%	\label{tab:melhoresmodelos}	
%	
%\end{table}






%tópicos retornando segmentos  que retorne segmentos coerentes 



















% ou seja limites não exatos podem ter um peso proporcional à proximidade, desde que estejam dentro da distancia K
%


% Baseando-se em medidas de avaliação tradicionais que utilizam a quantidade de acertos 


%	As medidas de avaliação tradicionalmente utilizadas na área de recuperação de informação como precisão e revocação trazem alguns problemas na avalização de segmentadores automáticos. 
%	
%	se considerarmos 

%	As medidas de avaliação tradicionalmente utilizadas na área de recuperação de informação como  
%
%Precisão é a proporção de limites identificados pelo algoritmo que são verdadeiros
%
%Revocação e a proporção limites verdadeiros que foram identificados pelo algoritmo

%corretamente identificados pelo algorítmo	
	 



%Para quantificar a eficiência dos algoritmos, segue uma revisão das principais métricas aplicáveis.



% para remoção de ruídos e ajustes




% seis atas de reunião foram coletadas junto ao departamento de pós-graduação da UFSCar-Sorocaba\footnote{\urlatas}. Os documentos foram oferecidos à profissionais que participam de reuniões desse departamento e por meio de um \textit{software} segmentaram o texto das atas conforme o julgamento de cada um. Os segmentos gerados manualmente foram comparados à segmentação automática conforme os critérios descritos a seguir.



	
  % \begin{figure}[!h]
	% \centering
	% \includegraphics[width=0.2\textwidth]{construcao.png}
%	\caption{Exemplo de pré-processamento.}
	% \\Em Construção
	% \label{fig:emconstrucao}
  % \end{figure}

	






%
%%% 
% Com a análise do diagrama de diferença crítica, foi possível verificar qual é a melhor configuração para cada medida em relação às demais.






